---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/UI/Navbar.astro';
import Sidebar from '../components/UI/Sidebar.astro';
import EnhancedPrayerTable from '../components/EnhancedPrayerTable.jsx';
---

<Layout>
    <Navbar />
    <Sidebar />
    <main class="relative isolate overflow-hidden">
        <div class="absolute inset-x-0 top-0 -z-10 h-[32rem] "></div>

        <!-- Hero Section -->
        <section class="mx-auto flex max-w-6xl flex-col gap-12 px-6 pb-16 pt-28 lg:flex-row lg:items-center lg:gap-20">
            <div class="flex-1 space-y-8">
                <h1 class="text-balance text-4xl font-black leading-tight text-base-content md:text-5xl xl:text-6xl tracking-[0.2em]">Prayer times</h1>

                <div class="flex flex-col sm:flex-row gap-4">
                    <a id="location" onclick="getLocation()" class="btn btn-primary btn-lg gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        Get Your Location
                    </a>
                    <a href="/prayer/settings" class="btn btn-secondary btn-lg gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        Prayer Settings
                    </a>
                </div>

                <div class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <EnhancedPrayerTable
                            client:load
                            latitude={24.7136}
                            longitude={46.6753}
                            onNextPrayerChange={() => {}}
                        />
                    </div>
                </div>

                <p class="max-w-2xl text-base leading-relaxed text-base-content/70 md:text-lg">
                    Track precise prayer times, experience soulful Adhan reminders, explore curated Quran journeys, and stay connected to your local ummah—all harmonized with the new Islamic theme.
                </p>

                <div class="flex flex-col gap-3 sm:flex-row">
                    <a href="#features" class="btn btn-primary btn-lg gap-2">
                        Get started now
                        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path
                                fill-rule="evenodd"
                                d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 010-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                                clip-rule="evenodd"
                            ></path>
                        </svg>
                    </a>
                    <a href="#insights" class="btn btn-ghost btn-lg border border-white/20 bg-white/10 backdrop-blur">
                        Explore dashboard
                    </a>
                </div>

                <div class="grid gap-4 sm:grid-cols-3">
                    <div class="rounded-2xl border border-white/10 bg-primary p-4 text-sm text-primary-content shadow-sm shadow-black/10">
                        <p class="text-xs uppercase tracking-[0.2em] text-primary-content/60">Prayer accuracy</p>
                        <p class="mt-2 text-2xl font-semibold">99.8%</p>
                        <p class="text-primary-content/60">Across 20+ global calculation methods</p>
                    </div>
                    <div class="rounded-2xl border border-white/10 bg-primary p-4 text-sm text-primary-content shadow-sm shadow-black/10">
                        <p class="text-xs uppercase tracking-[0.2em] text-primary-content/60">Community</p>
                        <p class="mt-2 text-2xl font-semibold">124K</p>
                        <p class="text-primary-content/60">Active worshippers worldwide</p>
                    </div>
                    <div class="rounded-2xl border border-white/10 bg-primary p-4 text-sm text-primary-content shadow-sm shadow-black/10">
                        <p class="text-xs uppercase tracking-[0.2em] text-primary-content/60">Quran sessions</p>
                        <p class="mt-2 text-2xl font-semibold">3.2M</p>
                        <p class="text-primary-content/60">Verses recited with tajweed tips</p>
                    </div>
                </div>
            </div>

            <div class="flex-1 flex items-stretch">
                <div class="relative w-full">
                    <div class="absolute -inset-8 rounded-[2.5rem] bg-gradient-to-br from-primary/40 via-transparent to-secondary/40 blur-3xl"></div>
                    <div class="relative h-full rounded-[2.5rem] border border-white/20 bg-base-100/80 p-6 dark:shadow-2xl dark:shadow-black/20 backdrop-blur-xl flex flex-col">
                        <div class="flex-1 rounded-3xl bg-base-200/80 p-5 shadow-inner flex flex-col justify-between">
                            <img src="/masjed.png" alt="Masjid" class="rounded-2xl w-full object-cover mb-4" />
                            <div class="space-y-3 mt-auto">
                                <p id="quran-text" class="text-base md:text-lg text-base-content/80 font-arabic text-right leading-loose" dir="rtl">
                                    جاري تحميل الآية...
                                </p>
                                <p id="ayah-text" class="text-xs md:text-sm text-base-content/60 font-arabic text-right" dir="rtl">
                                    جاري تحميل اسم الآية...
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Prayer insights ribbon -->
        <section id="insights" class="mx-auto max-w-6xl px-6 pb-10">
            <div class="rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-base-content/80 backdrop-blur-xl">
                <div class="grid gap-6 md:grid-cols-3">
                    <div class="flex items-center gap-4">
                        <span class="rounded-2xl bg-primary/20 p-3 text-primary">
                            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 8v4l3 3" />
                                <circle cx="12" cy="12" r="9" />
                            </svg>
                        </span>
                        <div>
                            <p class="text-xs uppercase tracking-[0.2em] text-base-content/60">Smart schedules</p>
                            <p class="text-base font-semibold text-base-content">Auto adapts for Hijri calendar & daylight changes</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="rounded-2xl bg-secondary/20 p-3 text-secondary">
                            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 20v-6" />
                                <path d="M6 8c0-3.31 2.686-6 6-6s6 2.69 6 6c0 4-6 11-6 11s-6-7-6-11z" />
                                <circle cx="12" cy="8" r="2" />
                            </svg>
                        </span>
                        <div>
                            <p class="text-xs uppercase tracking-[0.2em] text-base-content/60">Precision Qibla</p>
                            <p class="text-base font-semibold text-base-content">AR compass and map alignment within 0.5°</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        <span class="rounded-2xl bg-accent/20 p-3 text-accent">
                            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
                            </svg>
                        </span>
                        <div>
                            <p class="text-xs uppercase tracking-[0.2em] text-base-content/60">Community pulse</p>
                            <p class="text-base font-semibold text-base-content">Mosque events & halaqah reminders in one feed</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Feature grid -->
        <section id="features" class="mx-auto max-w-6xl px-6 pb-20">
            <div class="flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between">
                <div class="max-w-2xl space-y-3">
                    <span class="badge badge-outline badge-lg">Islamic essentials</span>
                    <h2 class="text-3xl font-bold text-base-content md:text-4xl">Everything you need for focused worship</h2>
                    <p class="text-base-content/70">
                        Crafted to partner with the new navigation system—the cards mirror the sidebar quick actions while keeping your dashboard lightweight and tranquil.
                    </p>
                </div>
                <a href="#" class="btn btn-ghost gap-2">
                    View all modules
                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L21 10.5m0 0l-3.75 3.75M21 10.5H3" />
                    </svg>
                </a>
            </div>

            <div class="mt-10 grid gap-6 md:grid-cols-2 xl:grid-cols-3">
                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-primary/20 p-3 text-primary">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3" />
                                    <circle cx="12" cy="12" r="9" />
                                </svg>
                            </div>
                            <span class="badge badge-secondary">Realtime</span>
                        </div>
                        <h3 class="card-title">Prayer timelines</h3>
                        <p class="text-sm text-base-content/70">Choose from Umm al-Qura, MWL, Egyptian Survey, and more—in harmony with your location.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Notifications</span>
                            <input type="checkbox" class="toggle toggle-primary" checked />
                        </label>
                    </div>
                </article>

                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-success/20 p-3 text-success">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 5l7 7-7 7" />
                                </svg>
                            </div>
                            <span class="badge badge-outline">Immersive</span>
                        </div>
                        <h3 class="card-title">Adhan studio</h3>
                        <p class="text-sm text-base-content/70">Hear Adhan from Makkah, Medina, or local imams. Tailor volume profiles for each prayer.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Play Adhan</span>
                            <input type="checkbox" class="toggle toggle-success" />
                        </label>
                    </div>
                </article>

                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-purple-500/20 p-3 text-purple-500">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 5h16M4 9h16M4 19h16M4 14h16" />
                                </svg>
                            </div>
                            <span class="badge badge-outline">Daily</span>
                        </div>
                        <h3 class="card-title">Quran journeys</h3>
                        <p class="text-sm text-base-content/70">Guided recitation tracks with tajweed insights, tafsir context, and streak tracking.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Daily verse</span>
                            <input type="checkbox" class="toggle toggle-secondary" checked />
                        </label>
                    </div>
                </article>

                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-error/20 p-3 text-error">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 2l7 7-7 7-7-7 7-7z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 12l8 8" />
                                </svg>
                            </div>
                            <span class="badge badge-outline">Compass</span>
                        </div>
                        <h3 class="card-title">Qibla finder</h3>
                        <p class="text-sm text-base-content/70">Augmented reality compass with Kaaba overlay and calibration guidance.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Auto-detect</span>
                            <input type="checkbox" class="toggle toggle-error" />
                        </label>
                    </div>
                </article>

                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-warning/20 p-3 text-warning">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10" />
                                    <rect width="18" height="18" x="3" y="5" rx="2" />
                                </svg>
                            </div>
                            <span class="badge badge-outline">Calendar</span>
                        </div>
                        <h3 class="card-title">Hijri planner</h3>
                        <p class="text-sm text-base-content/70">Sync Islamic events, fasting reminders, and sunnah practices with your calendar apps.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Event reminders</span>
                            <input type="checkbox" class="toggle toggle-warning" checked />
                        </label>
                    </div>
                </article>

                <article class="card glass border border-white/15 dark:shadow-lg">
                    <div class="card-body">
                        <div class="flex items-center justify-between">
                            <div class="rounded-2xl bg-info/20 p-3 text-info">
                                <svg class="h-8 w-8" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 9a3 3 0 116 0v1a3 3 0 01-6 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 15a7 7 0 0114 0v1H5z" />
                                </svg>
                            </div>
                            <span class="badge badge-outline">Focus mode</span>
                        </div>
                        <h3 class="card-title">Digital Tasbih</h3>
                        <p class="text-sm text-base-content/70">Haptic feedback, streaks, and dhikr presets to keep your remembrance flowing.</p>
                        <label class="flex items-center justify-between gap-4 rounded-xl bg-base-100/70 px-4 py-3">
                            <span class="text-sm font-medium">Vibrate on count</span>
                            <input type="checkbox" class="toggle toggle-info" />
                        </label>
                    </div>
                </article>
            </div>
        </section>
    </main>
</Layout>

<script src="/scripts/Random_ayah.js" is:inline></script>
<script src="/scripts/Get_location.js" is:inline></script>